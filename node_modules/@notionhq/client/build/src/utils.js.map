{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/utils.ts"],"names":[],"mappings":";;AAOA,kCAEC;AAID,oBAMC;AAED,4BAEC;AAcD,4CAYC;AAjDD;;;;;;GAMG;AACH,SAAgB,WAAW,CAAC,KAAY;IACtC,MAAM,IAAI,KAAK,CAAC,wCAAwC,KAAK,EAAE,CAAC,CAAA;AAClE,CAAC;AAID,SAAgB,IAAI,CAClB,IAAO,EACP,IAAkB;IAElB,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAG,GAAG,CAAC,CAAC,CAAC,CAAA;IACnD,OAAO,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAA;AACpC,CAAC;AAED,SAAgB,QAAQ,CAAC,CAAU;IACjC,OAAO,OAAO,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAA;AAC5C,CAAC;AASD;;;;GAIG;AACH,SAAgB,gBAAgB,CAC9B,IAA6B,EAC7B,QAA4B;;IAE5B,MAAM,SAAS,GAAG,IAAI,GAAG,CAAS;QAChC,GAAG,QAAQ,CAAC,UAAU;QACtB,GAAG,QAAQ,CAAC,WAAW;QACvB,GAAG,QAAQ,CAAC,UAAU;QACtB,GAAG,CAAC,MAAA,QAAQ,CAAC,cAAc,mCAAI,EAAE,CAAC;QAClC,MAAM;KACP,CAAC,CAAA;IACF,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;AACzD,CAAC","sourcesContent":["/**\n * Utility for enforcing exhaustiveness checks in the type system.\n *\n * @see https://basarat.gitbook.io/typescript/type-system/discriminated-unions#throw-in-exhaustive-checks\n *\n * @param value The variable with no remaining values\n */\nexport function assertNever(value: never): never {\n  throw new Error(`Unexpected value should never occur: ${value}`)\n}\n\ntype AllKeys<T> = T extends unknown ? keyof T : never\n\nexport function pick<O, K extends AllKeys<O>>(\n  base: O,\n  keys: readonly K[]\n): Pick<O, K> {\n  const entries = keys.map(key => [key, base?.[key]])\n  return Object.fromEntries(entries)\n}\n\nexport function isObject(o: unknown): o is Record<PropertyKey, unknown> {\n  return typeof o === \"object\" && o !== null\n}\n\nexport type EndpointDefinition = {\n  pathParams: readonly string[]\n  queryParams: readonly string[]\n  bodyParams: readonly string[]\n  formDataParams?: readonly string[]\n}\n\n/**\n * Returns parameter names present in `args` that are not recognized by the\n * endpoint definition. Useful for warning users about typos or parameters\n * that have been renamed across API versions.\n */\nexport function getUnknownParams(\n  args: Record<string, unknown>,\n  endpoint: EndpointDefinition\n): string[] {\n  const knownKeys = new Set<string>([\n    ...endpoint.pathParams,\n    ...endpoint.queryParams,\n    ...endpoint.bodyParams,\n    ...(endpoint.formDataParams ?? []),\n    \"auth\",\n  ])\n  return Object.keys(args).filter(k => !knownKeys.has(k))\n}\n"]}